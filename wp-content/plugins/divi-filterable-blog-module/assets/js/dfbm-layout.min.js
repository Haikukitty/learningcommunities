"use strict";!function($){$(function(){$(document).on("mousedown","a.et-pb-settings, ul.et-pb-all-modules > li",function(){var e=$("#titlewrap").children("#title").val();if(-1!==e.indexOf("DFBM-")&&($(this).parent().hasClass("et_pb_module_block")||$(this).parent().hasClass("et-pb-all-modules")))var t=setInterval(function(){var o=$("div.et_pb_modal_settings_container");if(o.length>0&&"module_settings"==o.data("open_view")){clearInterval(t);-1!==o.children("div.et-pb-modal-container").children("div.et_pb_module_settings").data("module_type").indexOf("et_pb_dfbm_blog")&&(-1===e.indexOf("DFBM-Shop")?(o.find("#et_pb_custom_posttypes, #et_pb_include_post_categories, #et_pb_exclude_post_categories").parent().parent().hide(),o.find("#et_pb_show_category_filter").closest("div.et-pb-option").hide()):o.find("#et_pb_show_order_options").closest("div.et-pb-option").hide())}},100)}).on("mousedown","a.et-pb-modal-save.button",function(){var e=$("#titlewrap").children("#title").val(),t=$(this).parent().siblings("div.et_pb_module_settings");if(-1!==e.indexOf("DFBM-")&&-1!==t.data("module_type").indexOf("et_pb_dfbm_blog")){var o,n=function e(t){var o=[];return t.find('input[type="checkbox"]').each(function(){$(this).prop("checked")&&o.push($(this).val())}),o},i=function e(t){return t.filter(function(){if($(this).prop("selected"))return!0}).val()};o={posts_number:t.find("#et_pb_posts_number").val(),offset_number:t.find("#et_pb_offset_number").val(),posts_featured:t.find("#et_pb_posts_featured").val()},"DFBM-Shop"==e?(o.custom_posttypes="product",o.include_product_categories=n(t.find("#et_pb_include_product_categories")).toString(),o.exclude_product_categories=n(t.find("#et_pb_exclude_product_categories")).toString(),o.include_product_tags=n(t.find("#et_pb_include_product_tags")).toString(),o.exclude_product_tags=n(t.find("#et_pb_exclude_product_tags")).toString()):(o.show_order_options=i(t.find("#et_pb_show_order_options").children("option")),o.order_options_order=i(t.find("#et_pb_order_options_order").children("option")),o.order_options_orderby=i(t.find("#et_pb_order_options_orderby").children("option"))),$.ajax({type:"post",dataType:"json",url:et_pb_options.ajaxurl,data:{action:"dfbm_set_archive_query",nonce:dfbmPHP.nonce,postID:dfbmPHP.id,query:o},success:function e(t){},error:function e(t){alert(dfbmPHP.noSave)}})}})})}(jQuery);
//# sourceMappingURL=./dfbm-layout.min.js.map