"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}();!function($){$(function(){new(function(){function e(){_classCallCheck(this,e),this.setProperties(),this.bindEvents()}return _createClass(e,[{key:"setProperties",value:function e(){this.red="#fff0f0",this.green="#f1fff0",this.localize=dfbmPHP}}]),_createClass(e,[{key:"resp",value:function e(t,i){return this.field.css("background",t).attr("value","").attr("placeholder",i)}},{key:"ajax",value:function e(t,i,a){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this,n={nonce:a.localize.nonce,action:t,license:i};n[t]=!0,$.ajax({data:n,type:"post",dataType:"json",url:a.localize.url,success:function e(i){a.localize.prefix+"_activate"==t?"success"in i?(a.resp.apply(l,[a.green,i.success]),setTimeout(function(){$(l).closest("div.update-message").slideUp(800,function(){$(this).closest("tr").remove(),location.reload()})},3e3)):a.resp.apply(l,[a.red,i.failed]):"delete"in i?(alert(i.delete),location.reload()):alert(i.failed)},error:function e(t){alert(a.localize.error),location.reload()}})}},{key:"bindEvents",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;$("#"+t.localize.prefix+"-license-submit").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),this.field=$("#"+t.localize.prefix+"-license-field"),this.val=this.field.val(),this.val&&32==this.val.length?t.ajax.apply(this,[t.localize.prefix+"_activate",this.val,t]):t.resp.apply(this,[t.red,t.localize.valid,t])}),$("#"+t.localize.prefix+"-remove-license").on("click",function(e){e.preventDefault(),t.ajax.apply(this,[t.localize.prefix+"_deactivate",t.localize.key,t])})}}]),e}())})}(jQuery);
//# sourceMappingURL=./dfbm-plugins.min.js.map